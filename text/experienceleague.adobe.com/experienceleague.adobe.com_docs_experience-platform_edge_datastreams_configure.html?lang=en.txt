
Configure a datastream
This document covers the steps for configuring a datastream in the UI.
Access the Datastreams workspace
You can create and manage datastreams in the Data Collection UI or Experience Platform UI by selecting Datastreams in the left navigation.

The Datastreams tab displays a list of existing datastreams, including their friendly name, ID, and last modified date. Select the name of a datastream to view its details and configure services.
Select the “more” icon (…) for a particular datastream to reveal more options. Select Edit to update the basic configuration for the datastream, or select Delete to remove the datastream.

Create a new datastream
To create a datastream, start by selecting New Datastream.

The datastream creation workflow appears, starting at the configuration step. From here, you must provide a name and optional description for the datastream.
If you are configuring this datastream for use in Experience Platform and are using the Platform Web SDK, you must also select an event-based Experience Data Model (XDM) schema to represent the data you plan on ingesting.

Select Advanced Options to reveal additional controls to configure the datastream.




Setting
Description




Geo Location
Determines whether Geo lookups occur based on the user’s IP address. The default setting None disables any Geo lookups, while the City setting provides GPS coordinates to two decimal places.


First Party ID Cookie
When enabled, this setting tells the Edge Network to refer to a specified cookie when looking up a first-party device ID, rather than looking up this value in the Identity Map.When enabling this setting, you must provide the name of the cookie where the ID is expected to be stored.


Third Party ID Sync
ID syncs can be grouped into containers to allow different ID syncs to be run at different times. When enabled, this setting lets you specify which container of ID syncs is run for this datastream.


Access Type
Defines the authentication type that the Edge Network accepts for the datastream. Mixed Authentication: When this option is selected, the Edge Network accepts both authenticated and unauthenticated requests. Select this option when you plan to use the Web SDK or Mobile SDK, along with the Server API. Authenticated Only: When this option is selected, the Edge Network only accepts authenticated requests. Select this option when you plan to use only the Server API and want to prevent any unauthenticated requests from being processed by the Edge Network.



From here, if you are configuring your datastream for Experience Platform, follow the tutorial on Data Prep for Data Collection to map your data to a Platform event schema before returning to this guide. Otherwise, select Save and continue to the next section.
View datastream details
After configuring a new datastream or selecting an existing one to view, the details page for that datastream appears. Here you can find further information about the datastream, including its ID.

From the datastream details screen, you can add services to enable capabilities from the Adobe Experience Cloud products you have access to. You can also edit the datastream’s basic configuration, update its mapping rules, copy the datastream, or delete it entirely.
Add services to a datastream
On the details page of a datastream, select Add Service to start adding available services for that datastream.

On the next screen, use the dropdown menu to select a service to configure for this datastream. Only the services that you have access to will appear in this list.

Select the desired service, fill in the configuration options that appear, and then select Save to add the service to the datastream. All added services appear in the details view for the datastream.

The subsections below describe the configuration options for each service.

NOTE

Each service configuration contains an Enabled toggle that is automatically activated when the service is selected. To disable the selected service for this datastream, select the Enabled toggle again.


Adobe Analytics settings
This service controls whether and how data is sent to Adobe Analytics. Additional details can be found in the guide on sending data to Analytics.




Setting
Description




Report Suite ID
(Required) The ID of the Analytics report suite that you want to send data to. This ID can be found in the Adobe Analytics UI under Admin > ReportSuites. If multiple report suites are specified, then data is copied to each report suite.



Adobe Audience Manager settings
This service controls whether and how data is sent to Adobe Audience Manager. All that is needed to send data to Audience Manager is to enable this section. The other settings are optional but encouraged.




Setting
Description




Cookie Destinations Enabled
Allows the SDK to share segment information via cookie destinations from Audience Manager.


URL Destinations Enabled
Allows the SDK to share segment information via URL destinations from Audience Manager.



Adobe Experience Platform settings

IMPORTANT

When enabling a datastream for Platform, take note of the Platform sandbox that you are currently using, as displayed in the top ribbon of the UI.

Sandboxes are virtual partitions in Adobe Experience Platform that allow you to isolate your data and implementations from others in your organization. Once a datastream is created, its sandbox cannot be changed. For more details about the role of sandboxes in Experience Platform, see the sandboxes documentation.


This service controls whether and how data is sent to Adobe Experience Platform.




Setting
Description




Event Dataset
(Required) Select the Platform dataset that customer event data will be streamed to. This schema must use the XDM ExperienceEvent class.


Profile Dataset
Select the Platform dataset that customer attribute data will be sent to. This schema must use the XDM Individual Profile class.


Offer Decisioning
Select this checkbox to enable Offer Decisioning for a Platform Web SDK implementation. See the guide on using Offer Decisioning with the Platform Web SDK for more implementation details.For more information on Offer Decisioning capabilities, refer to the Adobe Journey Optimizer documentation.


Edge Segmentation
Select this checkbox to enable edge segmentation for this datastream. When the SDK sends data through an edge-segmentation-enabled datastream, any updated segment memberships for the profile in question are sent back in the response.This option can be used in combination with Personalization Destinations for next-page personalization use cases.


Personalization Destinations
When enabling this after enabling the Edge Segmentation checkbox, this option allows the datastream to connect to personalization destinations, such as Custom Personalization.Refer to the destinations documentation for specific steps on configuring personalization destinations.


Adobe Journey Optimizer
Select this checkbox to enable Adobe Journey Optimizer for this datastream.  Enabling this option allows the datastream to return personalized content from web and app-based inbound campaigns in Adobe Journey Optimizer. This option requires Edge Segmentation to be active. If Edge Segmentation is unchecked, this option is greyed out.



Adobe Target settings
This service controls whether and how data is sent to Adobe Target.




Setting
Description




Property Token
Target allows customers to control permissions through the use of properties. For more information on properties, see the guide on configuring enterprise permissions in the Target documentation.The property token can be found in the Adobe Target UI under Setup > Properties.


Target Environment ID
Environments in Adobe Target help you manage your implementation through all stages of development. This setting specifies which environment you are going to use with this datastream.Best practice is to set this differently for each of your dev, stage, and prod datastream environments to keep things simple. However, if you already have Adobe Target environments defined, you can use those.


Target Third Party ID namespace
The identity namespace for the mbox3rdPartyId you want to use for this datastream. See the guide on implementing mbox3rdPartyId with the Web SDK for more information.



Event Forwarding settings
This service controls whether and how data is sent to event forwarding.




Setting
Description




Launch Property
(Required) The event forwarding property that you want to send data to.


Launch Environment
(Required) The environment within the selected property that you want to send data to.




NOTE

You can select Manually enter IDs to type in the property and environment names instead of using the dropdown menus.


Copy a datastream
You can create a copy of an existing datastream and alter its details as needed.

NOTE

Datastreams can only be copied within the same sandbox. In other words, you cannot copy a datastream from one sandbox to another.


From the main page in the Datastreams workspace, select the ellipsis (…) for the datastream in question, then select Copy.

Alternatively, you can select Copy Datastream from the details view of a given datastream.

A confirmation dialog appears, prompting you to provide a unique name for the new datastream to be created, along with details about the configuration options that will be copied over. When ready, select Copy.

The main page of the Datastreams workspace reappears with the new datastream listed.
Next steps
This guide covered how to manage datastreams in the Data Collection UI. For more information on how to install and configure the Web SDK after setting up a datastream, refer to the Data Collection E2E guide.



Business.Adobe.com resources










